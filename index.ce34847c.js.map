{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/api.js","src/js/LoadMoreBtn.js","<<jsx-config-pragma.js>>","src/js/main.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","// const URL =\n//   'https://pixabay.com/api/?key=35628652-5826d534b36a8e5c375c91e65&q=cat';\n\n//   per_page: 12,\n//   page: 1,\n//   webformatURL,\n//   largeImageURL,\n\n// const options = {\n//   params: {\n//     q: val,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     per_page: 12,\n//     page: page,\n//   },\n// };\n\n// fetch(URL, options)\n//   .then(response => response.json())\n//   .then(({ hits }) => console.log(hits));\n\n// fetch(URL).then(response => console.log(response));\n\n// fetch(URL)\n//   .then(response => response.json())\n//   .then(data => console.log(data));\n\n// fetch(URL)\n//   .then(response => response.json())\n//   .then(({ hits }) => console.log(hits));\n\n//! ================== модуль 10 запит на API ====================\n\n// export default function fetchData(query) {\n//   const URL = `https://pixabay.com/api/?key=35628652-5826d534b36a8e5c375c91e65&q=${query}`;\n\n//   return fetch(URL).then(response => response.json());\n// }\n\n//! ================== модуль 10 пагінація ====================\nconst ENDPOIND = 'https://pixabay.com/api';\nconst KEY = '35628652-5826d534b36a8e5c375c91e65';\nexport default class ImageApiService {\n  constructor() {\n    this.page = 1;\n    this.searchQuery = '';\n  }\n\n  getImg() {\n    const URL = `${ENDPOIND}/?key=${KEY}&q=${this.searchQuery}&page=${this.page}&per_page=5`;\n\n    return fetch(URL)\n      .then(response => response.json())\n      .then(({ hits }) => {\n        this.nextPage();\n        return hits;\n      });\n  }\n\n  //додаємо сторінку\n  nextPage() {\n    this.page += 1;\n  }\n  // скидуємо на 1 сторінку при новому запиті\n  resetPage() {\n    this.page = 1;\n  }\n}\n\n//! ================== модуль 11 async ====================\n// import axios from 'axios';\n\n// const ENDPOIND = 'https://pixabay.com/api';\n// const KEY = '35628652-5826d534b36a8e5c375c91e65';\n// export default class ImageApiService {\n//   constructor() {\n//     this.page = 1;\n//     this.searchQuery = '';\n//   }\n\n//   async getImg() {\n//     const URL = `${ENDPOIND}/?key=${KEY}&q=${this.searchQuery}&page=${this.page}&per_page=5`;\n\n//     const response = await axios.get(URL);\n//     // console.log(response);\n//     // console.log(response.data);\n//     // console.log(response.data.hits);\n\n//     // return axios.get(URL).then(({ data }) => {\n//     //   this.nextPage();\n//     //   return data.hits;\n//     // })\n\n//     this.nextPage();\n//     return response.data.hits;\n//   }\n\n//   //додаємо сторінку\n//   nextPage() {\n//     this.page += 1;\n//   }\n//   // скидуємо на 1 сторінку при новому запиті\n//   resetPage() {\n//     this.page = 1;\n//   }\n// }\n","export default class LoadMoreBtn {\n  constructor({ selector, isHidden }) {\n    this.button = this.getButton(selector);\n    if (isHidden) this.hide();\n    else this.show();\n  }\n\n  //* знаходимо потрібну кнопку\n  getButton(selector) {\n    return document.querySelector(selector);\n  }\n\n  //* додаємо клас на кнопку\n  hide() {\n    this.button.classList.add('hidden');\n  }\n  //* видаляємо клас з кнопки\n  show() {\n    this.button.classList.remove('hidden');\n  }\n\n  //* показуємо що контент підвантажується\n  disabled() {\n    this.button.disabled = true;\n    this.button.textContent = 'Loading...';\n  }\n  enable() {\n    this.button.disabled = false;\n    this.button.textContent = 'Loading more';\n  }\n}\n",null,"//! ================== модуль 10 запит на API ====================\n\n// import fetchData from './api';\n\n// const form = document.getElementById('form');\n// const newsImg = document.getElementById('newsImg');\n\n// form.addEventListener('submit', onsubmit);\n\n// function onsubmit(e) {\n//   e.preventDefault();\n\n//   const form = e.currentTarget;\n//   const value = form.elements.photo.value.trim();\n\n//   fetchData(value)\n//     .then(({ hits }) => {\n//       if (hits.length === 0) throw new Error('No data');\n//       return hits.reduce((acc, hit) => createMarcup(hit) + acc, '');\n//     })\n//     .then(updateImageList)\n//     .catch(onError)\n//     .finally(() => form.reset());\n// }\n\n// function updateImageList(markup) {\n//   newsImg.innerHTML = markup;\n// }\n\n// function createMarcup({ webformatURL, tags, id }) {\n//   return `<div class='thumb'>\n//   <h1>${id}</h1>\n//   <h4>${tags}</h4>\n//       <img src=${webformatURL} alt=${tags} width=\"240\" class=\"image\"/>\n//     </div>`;\n// }\n\n// function onError(err) {\n//   updateImageList('<h1>Not faund</h1>');\n// }\n\n//! ================== модуль 10 пагінація ====================\n\nimport ImageApiService from './api';\nimport LoadMoreBtn from './LoadMoreBtn';\nimport LoadMoreBtn from './LoadMoreBtn';\nimport LoadMoreBtn from './LoadMoreBtn';\n\nconst form = document.getElementById('form');\nconst newsImg = document.getElementById('newsImg');\n// const loadMore = document.getElementById('loadMore');  // замінилисьме на const loadMoreBtn = new LoadMoreBtn({ selector: '#loadMore' });\n\n//* створюємо екземпляр класу (щоб викликати клас)\nconst imageApiService = new ImageApiService();\nconsole.log(imageApiService);\nconst loadMoreBtn = new LoadMoreBtn({ selector: '#loadMore', isHidden: true });\nconsole.log(loadMoreBtn);\n\nform.addEventListener('submit', onSubmit);\n// loadMore.addEventListener('click', onloadMore); // замінилисьме на featchHits\n// loadMore.addEventListener('click', featchHits); // замінюємо на loadMore.button.addEventListener('click', featchHits);\nloadMore.addEventListener('click', featchHits);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  //* визначаємо дякий елемент в формі був активований\n  const form = e.currentTarget;\n  //* отримуемо з інпуту введене значення\n  const value = form.elements.photo.value.trim();\n\n  //* передаємо з інпуту введене в клас => конструктор\n  imageApiService.searchQuery = value;\n\n  //* скидуємо при новому запиті на 1 сторінку\n  imageApiService.resetPage();\n  //* очищаємо список\n  clearImageList();\n\n  //* робимо запит і виводимо 1 сторінку\n  // imageApiService\n  //   .getImg()\n  //   .then(hits => {\n  //     if (hits.length === 0) throw new Error('No data');\n  //     return hits.reduce((acc, hit) => createMarcup(hit) + acc, '');\n  //   })\n  //   .then(appendImageList)\n  //   .catch(onError)\n  //   .finally(() => form.reset());\n  featchHits().finally(() => form.reset());\n\n  loadMoreBtn.show();\n}\n\n//* кнопка додати ще робить новий запит\n// function onloadMore() {\n//   imageApiService\n//     .getImg()\n//     .then(hits => {\n//       if (hits.length === 0) throw new Error('No data');\n//       return hits.reduce((acc, hit) => createMarcup(hit) + acc, '');\n//     })\n//     .then(appendImageList)\n//     .catch(onError);\n// }\n// замінюємо onloadMore щоб не дублювати код\nfunction featchHits() {\n  loadMoreBtn.disabled();\n\n  return imageApiService\n    .getImg()\n    .then(hits => {\n      if (hits.length === 0) throw new Error('No data');\n      return hits.reduce((acc, hit) => createMarcup(hit) + acc, '');\n    })\n    .then(acc => {\n      appendImageList(acc);\n      loadMoreBtn.enable();\n    })\n    .catch(onError);\n}\n\n//* додаємо кожен елемент в уінець списку\nfunction appendImageList(markup) {\n  // newsImg.innerHTML = markup;\n  newsImg.insertAdjacentHTML('beforeend', markup);\n}\n\n//* очищаємо список\nfunction clearImageList(markup) {\n  newsImg.innerHTML = '';\n}\n\n//* робимо розмітку кожному елементу\nfunction createMarcup({ webformatURL, tags, id }) {\n  return `<div class='thumb'>\n  <h1>${id}</h1>\n  <h4>${tags}</h4>\n      <img src=${webformatURL} alt=${tags} width=\"240\" class=\"image\"/>\n    </div>`;\n}\n\n//* виводемо повідомлення на помилку\nfunction onError(err) {\n  loadMoreBtn.hide();\n  appendImageList('<h1>Not faund</h1>');\n}\n\n//! ================== модуль 11 async ====================\n\n// import ImageApiService from './api';\n// import LoadMoreBtn from './LoadMoreBtn';\n// import LoadMoreBtn from './LoadMoreBtn';\n// import LoadMoreBtn from './LoadMoreBtn';\n\n// const form = document.getElementById('form');\n// const newsImg = document.getElementById('newsImg');\n\n// //* створюємо екземпляр класу (щоб викликати клас)\n// const imageApiService = new ImageApiService();\n// const loadMoreBtn = new LoadMoreBtn({ selector: '#loadMore', isHidden: true });\n\n// form.addEventListener('submit', onSubmit);\n// loadMore.addEventListener('click', featchHits);\n\n// function onSubmit(e) {\n//   e.preventDefault();\n\n//   //* визначаємо дякий елемент в формі був активований\n//   const form = e.currentTarget;\n//   //* отримуемо з інпуту введене значення\n//   const value = form.elements.photo.value.trim();\n\n//   //* передаємо з інпуту введене в клас => конструктор\n//   imageApiService.searchQuery = value;\n\n//   //* скидуємо при новому запиті на 1 сторінку\n//   imageApiService.resetPage();\n//   //* очищаємо список\n//   clearImageList();\n\n//   //* робимо запит і виводимо 1 сторінку\n\n//   featchHits().finally(() => form.reset());\n\n//   loadMoreBtn.show();\n// }\n\n// //* кнопка додати ще робить новий запит\n// async function featchHits() {\n//   loadMoreBtn.disabled();\n\n//   try {\n//     const hits = await imageApiService.getImg();\n//     console.log(hits);\n\n//     if (hits.length === 0) throw new Error('No data');\n\n//     const acc = hits.reduce((acc, hit) => createMarcup(hit) + acc, '');\n\n//     appendImageList(acc);\n//     loadMoreBtn.enable();\n//   } catch (err) {\n//     console.error(err);\n//   }\n\n//   // return imageApiService\n//   //   .getImg()\n\n//   //   .then(hits => {\n//   //     if (hits.length === 0) throw new Error('No data');\n//   //     return hits.reduce((acc, hit) => createMarcup(hit) + acc, '');\n//   //   })\n//   //   .then(acc => {\n//   //     appendImageList(acc);\n//   //     loadMoreBtn.enable();\n//   //   })\n//   //   .catch(onError);\n// }\n\n// //* додаємо кожен елемент в уінець списку\n// function appendImageList(markup) {\n//   // newsImg.innerHTML = markup;\n//   newsImg.insertAdjacentHTML('beforeend', markup);\n// }\n\n// //* очищаємо список\n// function clearImageList(markup) {\n//   newsImg.innerHTML = '';\n// }\n\n// //* робимо розмітку кожному елементу\n// function createMarcup({ webformatURL, tags, id }) {\n//   return `<div class='thumb'>\n//   <h1>${id}</h1>\n//   <h4>${tags}</h4>\n//       <img src=${webformatURL} alt=${tags} width=\"240\" class=\"image\"/>\n//     </div>`;\n// }\n\n// //* виводемо повідомлення на помилку\n// function onError(err) {\n//   loadMoreBtn.hide();\n//   appendImageList('<h1>Not faund</h1>');\n// }\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$8197bff4c39d585a$export$2e2bcd8739ae039","ImageApiService","this","page","searchQuery","URL","concat","fetch","then","response","json","param","hits","_this","nextPage","$a2b6f3dd93aa4630$export$2e2bcd8739ae039","LoadMoreBtn","selector","isHidden","button","getButton","hide","show","document","querySelector","classList","add","remove","disabled","textContent","$089c40fcbb903d20$var$form","getElementById","$089c40fcbb903d20$var$newsImg","$089c40fcbb903d20$var$imageApiService","console","log","$089c40fcbb903d20$var$loadMoreBtn","$089c40fcbb903d20$var$featchHits","getImg","Error","reduce","acc","hit","webformatURL","tags","id","$089c40fcbb903d20$var$appendImageList","enable","catch","$089c40fcbb903d20$var$onError","markup","insertAdjacentHTML","err","addEventListener","e","preventDefault","form1","currentTarget","elements","photo","trim","resetPage","innerHTML","finally","reset","loadMore"],"version":3,"file":"index.ce34847c.js.map"}