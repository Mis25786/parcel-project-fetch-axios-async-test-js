//! ================== модуль 10 запит на API ====================
//! ================== модуль 10 пагінація ====================
const e=document.getElementById("form"),t=document.getElementById("newsImg"),n=new class{getImg(){const e=`https://pixabay.com/api/?key=35628652-5826d534b36a8e5c375c91e65&q=${this.searchQuery}&page=${this.page}&per_page=5`;return fetch(e).then((e=>e.json())).then((({hits:e})=>(this.nextPage(),e)))}nextPage(){this.page+=1}resetPage(){this.page=1}constructor(){this.page=1,this.searchQuery=""}}//! ================== модуль 11 async ====================;
console.log(n);const s=new class{getButton(e){return document.querySelector(e)}hide(){this.button.classList.add("hidden")}show(){this.button.classList.remove("hidden")}disabled(){this.button.disabled=!0,this.button.textContent="Loading..."}enable(){this.button.disabled=!1,this.button.textContent="Loading more"}constructor({selector:e,isHidden:t}){this.button=this.getButton(e),t?this.hide():this.show()}}({selector:"#loadMore",isHidden:!0});function o(){return s.disabled(),n.getImg().then((e=>{if(0===e.length)throw new Error("No data");return e.reduce(((e,t)=>function({webformatURL:e,tags:t,id:n}){return`<div class='thumb'>\n  <h1>${n}</h1>\n  <h4>${t}</h4>\n      <img src=${e} alt=${t} width="240" class="image"/>\n    </div>`}(t)+e),"")})).then((e=>{i(e),s.enable()})).catch(r)}function i(e){t.insertAdjacentHTML("beforeend",e)}function r(e){s.hide(),i("<h1>Not faund</h1>")}//! ================== модуль 11 async ====================
console.log(s),e.addEventListener("submit",(function(e){e.preventDefault();const i=e.currentTarget,r=i.elements.photo.value.trim();n.searchQuery=r,n.resetPage(),t.innerHTML="",o().finally((()=>i.reset())),s.show()})),loadMore.addEventListener("click",o);
//# sourceMappingURL=index.5c9a175a.js.map
